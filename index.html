document.addEventListener('DOMContentLoaded', () => {
    // ... (all your existing JavaScript code for hamburger, nav links, scroll, year, etc.)

    // New "Read More" functionality for history section
    const historyToggleBtn = document.querySelector('.btn-toggle-history');
    if (historyToggleBtn) {
        const historyContentDiv = historyToggleBtn.previousElementSibling; // This is .history-content
        const historyMoreContent = historyContentDiv.querySelector('.history-more');
        const previewParagraph = historyContentDiv.querySelector('p:first-child'); // The first paragraph
        const originalPreviewText = previewParagraph.innerHTML; // Store original text with ellipsis
        const fullPreviewText = originalPreviewText.replace('<span class="history-ellipsis">...</span>', ''); // Text without ellipsis

        // Ensure the initial ellipsis span is there if not typed manually
        if (!previewParagraph.querySelector('.history-ellipsis')) {
            previewParagraph.innerHTML += ' <span class="history-ellipsis">...</span>';
        }


        historyToggleBtn.addEventListener('click', function() {
            const ellipsisSpan = previewParagraph.querySelector('.history-ellipsis');
            if (historyMoreContent.style.display === 'none' || historyMoreContent.style.display === '') {
                historyMoreContent.style.display = 'block';
                this.textContent = 'कम पढ्नुहोस्'; // Read Less
                if (ellipsisSpan) ellipsisSpan.style.display = 'none'; // Hide ellipsis
            } else {
                historyMoreContent.style.display = 'none';
                this.textContent = 'थप पढ्नुहोस्'; // Read More
                if (ellipsisSpan) ellipsisSpan.style.display = 'inline'; // Show ellipsis
            }
        });
    }

    // ... (rest of your existing JavaScript code if any after this block)
});
